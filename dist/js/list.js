"use strict";var getData=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pAjax({url:"../api/getdata.php",data:{start:defaultInfo.num,len:defaultInfo.len}});case 2:t=e.sent,renderHtml((t=JSON.parse(t)).list),console.log(t.list);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();function _asyncToGenerator(e){return function(){var l=e.apply(this,arguments);return new Promise(function(o,u){return function t(e,n){try{var a=l[e](n),r=a.value}catch(e){return void u(e)}if(!a.done)return Promise.resolve(r).then(function(e){t("next",e)},function(e){t("throw",e)});o(r)}("next")})}}var list=document.querySelector(".list"),page=document.querySelector(".page"),ul=document.querySelector(".cate ul"),cate=document.querySelector(".cate");cate.onmouseover=function(){ul.style.display="block"},cate.onmouseout=function(){ul.style.display="none"};var defaultInfo={len:12,num:1};function renderHtml(e){var n="";e.forEach(function(e,t){n+='<li>\n        <a href="detail.html?id='+e.id+'">\n    <div>\n        <img src="'+e.logo+'" alt="">\n        <h3>'+e.name+"</h3>\n        <p>"+e.introduce+"</p>\n        <span>"+e.price+"</span>\n    </div>\n</a>   \n       </li> "}),list.innerHTML=n}pAjax({url:"../api/getdata.php",data:{start:defaultInfo.num,len:defaultInfo.len}}).then(function(e){e=JSON.parse(e),new Pagination(page,{pageInfo:{pagenum:1,pagesize:defaultInfo.len,total:e.total,totalpage:Math.ceil(e.total/defaultInfo.len)},textInfo:{first:"首页",prev:"上一页",list:"",next:"下一页",last:"最后一页"},change:function(e){defaultInfo.num=e,getData(),scrollTo(0,0)}})});