"use strict";var username=$("#username"),password=$("#password");jQuery.validator.addMethod("testTel",function(e){return!!/^1[345789]\d{9}$/.test(e)}),jQuery.validator.addMethod("testConfirm",function(e){return e==password.val()}),$("#box").validate({rules:{username:{required:!0,rangelength:[2,4]},tel:{required:!0,testTel:!0},password:{required:!0,rangelength:[6,24]},confirm:{required:!0,testConfirm:!0},code:{required:!0},check:{required:!0}},messages:{username:{required:"用户名不能为空",rangelength:"用户名格式不正确"},tel:{required:"手机号不能为空",testTel:"手机号格式不正确"},password:{required:"密码不能为空",rangelength:"密码格式不正确"},confirm:{required:"必须填写",testConfirm:"与密码不一样"},code:{required:"必须填写"},check:{required:"必须选择"}},submitHandler:function(){window.event.preventDefault(),pAjax({type:"post",url:"../api/zhuce.php",data:{username:username.val(),password:password.val()}}).then(function(e){console.log(e),1==(e=JSON.parse(e)).code?(alert("注册成功"),location.href="denlu.html"):alert("用户已存在")})}});